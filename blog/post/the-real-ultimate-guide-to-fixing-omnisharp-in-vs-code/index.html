<!DOCTYPE html>
<html lang="en"><head><title>The Real Ultimate Guide to Fixing OmniSharp in VS Code | Blog</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="Reese's website about programming."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternate" type="application/rss+json" title="Reese Schultz" href="../../feed.json"><link rel="icon" type="image/x-icon" href="../../../favicon.ico"><link rel="stylesheet" href="../../../styles.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/base16/dracula.min.css"><meta property="og:type" content="website">
<meta property="og:site_name" content="Reese Schultz">
<meta property="og:locale" content="en">
<meta property="og:description" content="Reese's website about programming.">
<meta property="og:url" content="http://localhost/blog/post/the-real-ultimate-guide-to-fixing-omnisharp-in-vs-code/">
<meta name="twitter:description" content="Reese's website about programming.">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ReeseCodes">
<meta itemprop="description" content="Reese's website about programming.">
<meta name="description" content="Reese's website about programming.">
<meta name="generator" content="Lume v1.10.1">
</head><body><div id="header"><h1><a href="../../..">Reese<br>Schultz</a></h1></div><p class="go-back for-post"><a class="change-color" href="../..">...back to the blog!</a></p><div id="content"><div id="post"><h2>The Real Ultimate Guide to Fixing OmniSharp in VS Code</h2><p>If OmniSharp/IntelliSense isn't working for your C#/Unity projects, this may be the tutorial for you.</p><div class="for-post" id="post-info"><ul class="tags for-post"><li class="tag csharp"><a href="../../tag/csharp">c#</a></li><li class="tag unity"><a href="../../tag/unity">unity</a></li></ul><p class="date for-post">Last updated on August 6, 2022.</p><p class="date for-post">Created on August 28, 2021.</p></div><p><strong>Update</strong>: Believe it or not, in the year since this post was originally
written, it's become even more difficult to get OmniSharp working in VS Code.
Fortunately for you, I've updated the information here accordingly. Hopefully
this minimizes or fully eliminates troubleshooting on your part.</p>
<hr>
<p>Getting OmniSharp working on a fresh OS install can be frustrating. Worse,
sometimes it just breaks. In this tutorial, I'll go over some common steps one
can take to fix it. I also address some specific things Linux and Unity game
engine users can do to get that sweet code completion working.</p>
<h3>Everyone Needs the .NET SDK and C# Extension</h3>
<p>No matter what operating system you use, for OmniSharp/IntelliSense to work, you
must install the
<a href="https://dotnet.microsoft.com/download/dotnet/sdk-for-vs-code" target="_blank">.NET SDK</a> if you
don't already have it.</p>
<p>To check that the .NET SDK works, open a terminal (PowerShell in the case of
Windows) and enter the following:</p>
<pre><code class="language-bash">dotnet --version
</code></pre>
<p>If that results in an error, you may need to restart the terminal or manually
update your <code>PATH</code> variable.</p>
<hr>
<p>The other thing everyone needs is the
<a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp" target="_blank">OmniSharp C# extension</a>.
Don't forget to install this VS Code extension! It doesn't ship with VS Code by
default.</p>
<h3>Non-Windows Users Need Mono</h3>
<p>If you're on Linux or macOS, you need to install
<a href="https://www.mono-project.com/download/stable/" target="_blank">Mono</a>. After doing so, check
that it installed correctly with:</p>
<pre><code class="language-bash">mono --version
</code></pre>
<p>That should not result in an error, unless something still isn't quite right. If
that's the case, consider restarting the terminal or updating your <code>PATH</code>
variable.</p>
<h4>Mono Path</h4>
<p>Non-Windows users must also go to <em>File » Preferences » Settings</em> in VS Code.
Then type "mono path" into the search bar. Be sure to set <em>OmniSharp: Mono Path</em>
to the output of <code>which mono</code>, which should <em>not</em> be an empty string—otherwise,
there's a fun problem for you to investigate.</p>
<h4>Additional Setup for Unity</h4>
<p>For autocompletion in Unity projects, within VS Code you must ensure <em>OmniSharp:
Use Modern Net</em> is disabled via <em>File » Preferences » Settings</em>. This is
necessary. Uncheck that box.</p>
<p>On top of that, non-Windows users must
<a href="https://launchpad.net/~eofla/+archive/ubuntu/msbuild" target="_blank">install MSBuild</a>, because
it's
<a href="https://github.com/OmniSharp/omnisharp-vscode/issues/5120" target="_blank">no longer included with OmniSharp</a>.
How convenient.</p>
<h3>Unity Editor Configuration</h3>
<h4>UPM</h4>
<p>While in the Unity editor, go to <em>Window » Package Manager</em>. Ensure the <em>Visual
Studio Code Editor</em> package is installed (it probably is).</p>
<p>In the past, versions of this package have ironically broken code completion,
and needed to be patched as a result. Generally speaking, you want to try to use
the latest version. If you try everything in this guide, and code completion is
still broken, then downgrading this package may be worth a try.</p>
<h4>Project Preferences</h4>
<p>Still in the Unity editor, go to <em>Edit » Preferences » External Tools</em>. Note
that these are preferences that aren't specific to any given Unity project. Then
make sure VS Code is set in the <em>External Script Editor</em>. If you have multiple
binaries of VS Code, select the one with the right permissions.</p>
<p>Furthermore, check the following:</p>
<ul>
<li>Embedded packages</li>
<li>Local packages</li>
<li>Registry packages</li>
<li>Git packages</li>
<li>Built-in packages</li>
<li>Local tarball</li>
</ul>
<p>For good measure, click on <em>Regenerate project files</em>, and save your project.</p>
<p>It's recommended that, after adding new packages, you simply open your Unity
project by clicking on <em>Assets » Open C# Project</em>, which regenerates all checked
types of project files <em>and</em> opens the project in VS Code.</p>
<h3>Conclusion</h3>
<p>If you're still having issues in spite of following this guide, I feel for you.
Try restarting things, before trying anything else. Also, remember that you have
to be patient with OmniSharp when it starts up. If it has a lot of project files
to analyze, it could take minutes before IntelliSense starts working.</p>
<p>There are times when OmniSharp does not start up at all, in which case you can
run a command to restart it. In VS Code, you can use the <code>Ctrl+Shift+P</code>
keybinding to enter commands. After using that keybinding, type in "restart
omnisharp" and press enter.</p>
<p>I hope this saves you some time.</p>
</div></div><ul class="social"><li class="github"><a target="_blank" href="https://github.com/reeseschultz"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20"><title>Link to GitHub Profile</title><path d="M10 0a10 10 0 0 0-3.16 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94 0-1.1.39-1.99 1.03-2.69a3.6 3.6 0 0 1 .1-2.64s.84-.27 2.75 1.02a9.58 9.58 0 0 1 5 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69 0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0 0 10 0"></path></svg></a></li><li class="youtube"><a target="_blank" href="https://www.youtube.com/channel/UC9DCrtoQBTBrIyZ4mXNzlTA"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 22"><title>Link to YouTube Channel</title><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a></li><li class="twitter"><a target="_blank" href="https://twitter.com/ReeseCodes"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20"><title>Link to Twitter Profile</title><path d="M6.29 18.25c7.55 0 11.67-6.25 11.67-11.67v-.53c.8-.59 1.49-1.3 2.04-2.13-.75.33-1.54.55-2.36.65a4.12 4.12 0 0 0 1.8-2.27c-.8.48-1.68.81-2.6 1a4.1 4.1 0 0 0-7 3.74 11.65 11.65 0 0 1-8.45-4.3 4.1 4.1 0 0 0 1.27 5.49C2.01 8.2 1.37 8.03.8 7.7v.05a4.1 4.1 0 0 0 3.3 4.03 4.1 4.1 0 0 1-1.86.07 4.1 4.1 0 0 0 3.83 2.85A8.23 8.23 0 0 1 0 16.4a11.62 11.62 0 0 0 6.29 1.84"></path></svg></a></li></ul><div id="footer"><div id="copyright-and-license"><p id="copyright">© 2021-2022 <a href="../../..">Reese Schultz</a></p><a id="license" href="../../../license">License</a></div></div><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script><script>if (hljs) hljs.highlightAll();</script><script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script><script src="../../../copy.js"></script></body></html>