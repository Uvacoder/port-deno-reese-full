<!DOCTYPE html>
<html lang="en"><head><title>How Extension Methods Work in C# | Blog</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="Reese's website about programming."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternate" type="application/rss+json" title="Reese Schultz" href="../../feed.json"><link rel="icon" type="image/x-icon" href="../../../favicon.ico"><link rel="stylesheet" href="../../../styles.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/base16/dracula.min.css"><meta property="og:type" content="website">
<meta property="og:site_name" content="Reese Schultz">
<meta property="og:locale" content="en">
<meta property="og:description" content="Reese's website about programming.">
<meta property="og:url" content="http://localhost/blog/post/how-extension-methods-work-in-csharp/">
<meta name="twitter:description" content="Reese's website about programming.">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ReeseCodes">
<meta itemprop="description" content="Reese's website about programming.">
<meta name="description" content="Reese's website about programming.">
<meta name="generator" content="Lume v1.10.1">
</head><body><div id="header"><h1><a href="../../..">Reese<br>Schultz</a></h1></div><p class="go-back for-post"><a class="change-color" href="../..">...back to the blog!</a></p><div id="content"><div id="post"><h2>How Extension Methods Work in C#</h2><p>Learn how to "add" methods to an existing type.</p><div class="for-post" id="post-info"><ul class="tags for-post"><li class="tag csharp"><a href="../../tag/csharp">c#</a></li></ul><p class="date for-post">Created on August 31, 2021.</p></div><h3>Introduction</h3>
<p>Suppose you have a type called <code>Cat</code>. But! <code>Cat</code> has no <code>Meow</code> method due to
short-sighted vision on the part of its designers. How can you be expected to
complete your work without a meowing cat?</p>
<p>How? By creating an <em>extension method</em>, as in a method that extends a given
type. I'll show you what's involved.</p>
<p>Know that there are different ways to organize your extension methods. For any
given project, I tend to throw those methods in a namespaced, static class
called <code>Util</code>, along with other static methods. As to why, it's because I don't
feel like creating a class to encapsulate a single method. Most of the time, you
may only require one or two extension methods per type. As the number of methods
increases, and the need arises for more fine-grained organization, it's
productive to refactor, grouping like methods by class. The popular convention,
in this case, would be to create a class called <code>CatExtensions</code>.</p>
<p>Let's go with that—create a file called <code>CatExtensions.cs</code>. That's where we'll
write our code.</p>
<h3>Walkthrough</h3>
<p>First, we'll import the <code>System</code> dependency for the sake of this example, and
declare a namespace:</p>
<pre><code class="language-csharp">using System;

namespace SomeNamespace
{
  // TODO
}
</code></pre>
<p>Be sure to replace <code>SomeNamespace</code> with a different name.</p>
<p>Second, we'll add this scaffolding inside the namespace:</p>
<pre><code class="language-csharp">public class Cat { }

public static class CatExtensions
{
  // TODO
}
</code></pre>
<p>I'm including a minimal implementation of <code>Cat</code> just to prevent compiler errors,
in case you want to run this code. While in this example <code>Cat</code> is a <code>class</code>, it
could also be a <code>struct</code>, or even an <code>interface</code>! Yep, extension methods are
applicable for interfaces too.</p>
<p>Anyway, bear in mind that extension methods must be <code>static</code>, hence why
<code>CatExtensions</code> is <code>static</code>—there's no reason for it to ever be instantiated.</p>
<p>Finally, add the extension method to the <code>CatExtensions</code> class:</p>
<pre><code class="language-csharp">public static void Meow(this Cat cat, int meowCount)
{
  Console.WriteLine($"The cat meows {meowCount} times!");
}
</code></pre>
<p>Note that extension methods must be <code>static</code>. To extend <code>Cat</code>, we supply the
<code>this</code> keyword followed by the <code>Cat</code> type and <code>cat</code> variable name. If we wanted,
we could modify <code>cat</code> via its accessible members, if it had any. In this case,
we pass another parameter called <code>meowCount</code>, simulating the number of times the
cat meows through console output. Here, we're using string interpolation since
it flows better than concatenation.</p>
<h3>Final Result</h3>
<p>Putting everything together:</p>
<pre><code class="language-csharp">using System;

namespace SomeNamespace
{
  public class Cat { }

  public static class CatExtensions
  {
    public static void Meow(this Cat cat, int meowCount)
    {
      Console.WriteLine($"The cat meows {meowCount} times!");
    }
  }
}
</code></pre>
<h3>Usage</h3>
<p>Let's assume a cat has been instantiated like this:</p>
<pre><code class="language-csharp">var cat = new Cat();
</code></pre>
<p>Now, there are two ways you can call <code>Meow</code> on <code>cat</code>. The first, and preferred
way, is to do this:</p>
<pre><code class="language-csharp">cat.Meow(3);
</code></pre>
<p>The output of that would be:</p>
<pre><code class="language-plaintext">The cat meows 3 times!
</code></pre>
<p>The second way is much more verbose:</p>
<pre><code class="language-csharp">CatExtensions.Meow(cat, 5);
</code></pre>
<p>The output of this would be:</p>
<pre><code class="language-plaintext">The cat meows 5 times!
</code></pre>
<p>Calling <code>Meow</code> like a typical static method, which it technically is, kind of
defeats the point of it also being an extension method. Extension methods are,
after all, an avenue for writing more terse, readable code. In other words, they
permit an arguably more elegant style as opposed to the alternative.</p>
<p>I hope this helped demystify extension methods for you.</p>
</div></div><ul class="social"><li class="github"><a target="_blank" href="https://github.com/reeseschultz"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20"><title>Link to GitHub Profile</title><path d="M10 0a10 10 0 0 0-3.16 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94 0-1.1.39-1.99 1.03-2.69a3.6 3.6 0 0 1 .1-2.64s.84-.27 2.75 1.02a9.58 9.58 0 0 1 5 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69 0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0 0 10 0"></path></svg></a></li><li class="youtube"><a target="_blank" href="https://www.youtube.com/channel/UC9DCrtoQBTBrIyZ4mXNzlTA"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 22"><title>Link to YouTube Channel</title><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a></li><li class="twitter"><a target="_blank" href="https://twitter.com/ReeseCodes"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20"><title>Link to Twitter Profile</title><path d="M6.29 18.25c7.55 0 11.67-6.25 11.67-11.67v-.53c.8-.59 1.49-1.3 2.04-2.13-.75.33-1.54.55-2.36.65a4.12 4.12 0 0 0 1.8-2.27c-.8.48-1.68.81-2.6 1a4.1 4.1 0 0 0-7 3.74 11.65 11.65 0 0 1-8.45-4.3 4.1 4.1 0 0 0 1.27 5.49C2.01 8.2 1.37 8.03.8 7.7v.05a4.1 4.1 0 0 0 3.3 4.03 4.1 4.1 0 0 1-1.86.07 4.1 4.1 0 0 0 3.83 2.85A8.23 8.23 0 0 1 0 16.4a11.62 11.62 0 0 0 6.29 1.84"></path></svg></a></li></ul><div id="footer"><div id="copyright-and-license"><p id="copyright">© 2021-2022 <a href="../../..">Reese Schultz</a></p><a id="license" href="../../../license">License</a></div></div><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script><script>if (hljs) hljs.highlightAll();</script><script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script><script src="../../../copy.js"></script></body></html>